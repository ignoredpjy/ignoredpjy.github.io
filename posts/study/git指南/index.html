<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Git指南 | PJY's Blog</title><meta name=keywords content="git教程,git入门,git手册"><meta name=description content="使用git以来，有一些知识，不用就会含糊不清，稍作整理方便查阅，可能不适合所有人"><meta name=author content="PJY"><link rel=canonical href=https://ignoredpjy.github.io/posts/study/git%E6%8C%87%E5%8D%97/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://ignoredpjy.github.io/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ignoredpjy.github.io/img/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ignoredpjy.github.io/img/favicon-32x32.png><link rel=apple-touch-icon href=https://ignoredpjy.github.io/apple-touch-icon.png><link rel=mask-icon href=https://ignoredpjy.github.io/android-chrome-512x512.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script defer src=https://unpkg.com/mermaid@8.8.1/dist/mermaid.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css><script src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<script src=https://cdn.jsdelivr.net/npm/jquery@3.6.3/dist/jquery.min.js></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Git指南"><meta property="og:description" content="使用git以来，有一些知识，不用就会含糊不清，稍作整理方便查阅，可能不适合所有人"><meta property="og:type" content="article"><meta property="og:url" content="https://ignoredpjy.github.io/posts/study/git%E6%8C%87%E5%8D%97/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-06-23T22:17:36+08:00"><meta property="article:modified_time" content="2023-06-23T22:17:36+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Git指南"><meta name=twitter:description content="使用git以来，有一些知识，不用就会含糊不清，稍作整理方便查阅，可能不适合所有人"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":" 文章","item":"https://ignoredpjy.github.io/posts/"},{"@type":"ListItem","position":3,"name":" 学习笔记","item":"https://ignoredpjy.github.io/posts/study/"},{"@type":"ListItem","position":4,"name":"Git指南","item":"https://ignoredpjy.github.io/posts/study/git%E6%8C%87%E5%8D%97/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Git指南","name":"Git指南","description":"使用git以来，有一些知识，不用就会含糊不清，稍作整理方便查阅，可能不适合所有人","keywords":["git教程","git入门","git手册"],"articleBody":"使用git之前 git 的 配置文件有三个 分别是 system、global、local\nsystem 位于‪C:\\Program Files\\Git\\etc\\gitconfig为所有用户配置文件（linux 系统位于 /etc/gitconfig） global 位于~\\gitconfig 为用户配置文件 local 位于 .\\.git\\gitconfig 为当前项目配置文件 其实还有 --worktree 作用域 : 使用每个工作树的配置文件\n一般，修改 –global\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 man git config | git config --help # 显示当前作用域的Git配置、附带作用域、附带配置文件位置 $ git config --list| -l --show-scope --show-origin # 直接编辑Git配置文件，不推荐 $ git config -e [--global] # 设置提交代码时的用户信息 git config --global --add user.name \"pjy\" #--add可省略，删除用 unset git config --global user.email \"email\" git config --global corlor.ui true #彩色ui git config --global core.editor vim #默认编辑器 git config --global core.ignorecase true #文件名不区分大小写 # 类Unix操作系统使用的是大小写敏感的文件系统， # 而Windows和Mac OS X（默认安装）的文件系统则是大小写不敏感的文件系统。 # README、readme以及Readme文件，在Linux等操作系统上访问的是不同的文件， # 而在Windows和Mac OS X上则指向同一个文件。 # 在Windows和Mac OS X平台上执行git clone后， # 文件会发生覆盖导致丢失 git config --global core.autocrlf input # LF（Unix风格的换行符） CRLF（Windows风格的换行符） # 我们一般希望远程仓库中的代码为LF 所以input，开发环境为win的话，true也行 # core.autocrlf 是一个Git的配置项，它有三个可选值： # true：在checkout时自动将行尾转换为CRLF，在commit时自动将行尾转换为LF。 # input：在检出代码时不自动转换行尾，在提交代码时自动将行尾转换为LF。 # false：在check和commit代码时都不自动转换行尾。 更多配置项详见 官网\n仓库初始化 1 2 3 git init git clone [https|ssh] .gitignore\n基本每个仓库都含有的忽略文件，用来配置 git 忽略哪些文件\n常需要忽略一些 集成开发环境配置目录 和 代码打包目录\n查看的命令 常用的一些查看详情的命令\n最常用\n1 2 3 4 5 # 显示有变更的文件 工作区、暂存区、是否发生冲突 $ git status # 显示当前分支的最近几次提交 $ git reflog 代码比较diff\n1 2 3 4 5 6 7 8 9 10 11 # 显示暂存区和工作区的差异 $ git diff # 显示暂存区和上一个commit的差异 $ git diff --cached [file] # 显示工作区与当前分支最新commit之间的差异 $ git diff HEAD # 显示两次提交之间的差异 $ git diff [first-branch]...[second-branch] git log 和 blame\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 # 显示当前分支的版本历史 $ git log # 显示commit历史，以及每次commit发生变更的文件 $ git log --stat # 搜索提交历史，根据关键词 $ git log -S [keyword] # 显示某个commit之后的所有变动，每个commit占据一行 $ git log [tag] HEAD --pretty=format:%s # 显示某个commit之后的所有变动，其\"提交说明\"必须符合搜索条件 $ git log [tag] HEAD --grep feature # 显示某个文件的版本历史，包括文件改名 $ git log --follow [file] $ git whatchanged [file] # 显示指定文件相关的每一次diff $ git log -p [file] # 显示过去5次提交 $ git log -5 --pretty --oneline 其他\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # 显示所有提交过的用户，按提交次数排序 $ git shortlog -sn # 显示指定文件是什么人在什么时间修改过 $ git blame [file] # 显示今天你写了多少行代码 $ git diff --shortstat \"@{0 day ago}\" # 显示某次提交的元数据和内容变化 $ git show [commit] # 显示某次提交发生变化的文件 $ git show --name-only [commit] # 显示某次提交时，某个文件的内容 $ git show [commit]:[filename] 奇怪的符号 1 2 3 4 5 6 7 HEAD # 当前分支最新版本 HEAD^^ # 有几个^就是前几个版本 HEAD~[0-n] #数字代替^的个数 git checkout - # - 表示上一次指向的版本，后退操作 git checkout -- . # -- 无意义可省略 ‘.’表示全部文件 origin/ # 远程分支名称的前缀 FETCH_HEAD # 含义见下文 远程同步 提交前的操作（暂存区） 创建、修改 、删除文件\nadd 本质是 同步工作区的变化到暂存区，使暂存区和工作区保持一致。\n当工作区新创建文件 1.txt时，add可以将文件添加到暂存区。之后，如果工作区删除1.txt时，使用add可以将该文件从暂存区也删除。\n1 2 3 4 5 6 7 8 9 10 # 添加当前目录的所有文件到暂存区 git add . # 添加指定文件到暂存区 git add [file1] [file2] ... # 添加指定目录到暂存区，包括子目录 git add [dir] # 添加每个变化前，都会要求确认 # 对于同一个文件的多处变化，可以实现分次提交 git add -p 灵活的删除文件\n1 2 3 4 5 6 # 删除工作区文件，并且将这次删除同步暂存区, # 如果删除时工作区和暂存区文件内容不一致，需要 -f git rm -f [file1] [file2] ... # 暂存区停止追踪指定文件，但该文件会保留在工作区 git rm --cached [file] 重命名文件\n1 2 # 移动或改名文件，并且将这个改名放入暂存区，文件名重复时-f强制 $ git mv -f [file-original] [file-renamed] 提交前的撤销 注意：还原工作区前，确保当前工作区的内容已彻底无用\n工作区 ——》 暂存区\n注意：checkout命令 是 文件内容还原 ，会创建不存在的文件，但不会删除工作区文件，git status 可以看到 那些标红的文件\n本质可以理解为: 将 暂存区文件 复制粘贴到 工作区\n1 2 3 4 # -- 可以省略，推荐省略，有返回结果，加了--就没有，怪 git checkout -- [.|file｜dir] git restore [.|file] #功能完全同上 工作区 ——》 最新版本\n无法单独还原工作区，确实也没必要，工作区还原了，暂存区还有必要保留吗，如果有，为什么不直接还原成暂存区\n暂存区 ——》 最新版本\n1 2 3 4 # --mixed 为默认，可以省略，用于重置暂存区 -\u003e HEAD版本，但不改变工作区，不带[file]则重置全部文件 git reset --mixed HEAD [file] git restore --staged [.|file] #功能完全同上 工作区和暂存区 ——》最新版本\n1 2 3 git checkout HEAD -- [file|dir] # 推荐省略--，理由同上 # restore上面两个指令都用一遍，就行了 结合上面三种来看:\n推荐使用 restore 命令，Git 2.23 版本新引入，相比checkout 表意更清晰。而 reset的实现，则属于是reset的附带功能了\nreset 和 HEAD 一起使用可以做到版本内的撤销操作，但 reset的本职工作是版本的删除回退（危险操作）\n提交后的撤销（版本回退） reset 除了预设的 mixed 模式外，另外还有soft 和hard 模式。欲了解各模式的影响程度，请参照下面的表格。\n模式名称 HEAD的位置 索引 工作目录 指定文件 soft 修改 不修改 不修改 不可 mixed 修改 修改 不修改 可以 hard 修改 修改 修改 不可 安全的回退 ,使用 revert 命令\n相比 reset，revert 不会删除任何提交记录\n假设 版本链：A — B — C— D— E\nreset 回到 C：A — B — C\nrevert回到 C：A — B — C— D— E — C\npush 之前 的 commit 可以用 reset，已push的commit 一定用revert\n因为，本地操作失误的reset，可以用 reflog 抢救\n提交操作 1 2 3 4 5 # add . + commit ,携带message $ git commit -am [message] # 覆盖上一次提交并重写message，不会增加提交次数，好用 $ git commit --amend -am [message] 易混淆的checkout 与 restore 、reset 、switch checkout 功能理解: 其实就是查看代码，把代码转移到工作区来查看\n1 2 3 4 5 6 7 8 9 git checkout -- [file] #查看暂存区代码 git checkout [commit_id] file #查看指定版本代码 git checkout -b [branch_name] #查看其他分支代码，也就是切换分支，-b是新建分支并切换 git checkout - #回退到上次查看的版本 git checkout tags/ #查看tag版本 因为查看代码会修改工作区，就导致checkout具有撤销工作区的功能\nreset 之前已经讲过，回退版本的功能会修改工作区和暂存区，所以和Head搭配，也具有部分撤销功能\nswitch 和restore 是Git 2.23 版本引入，用来清晰化 checkout 功能类型的新命令。\nswitch: 更清晰地切换分支。\n1 2 3 git switch -c #切换分支 -c 是创建分支 git switch - git switch tags/ restore 恢复或撤销文件的更改。\n1 git restore --source= # restore 也有查看指定版本代码的功能 这两个命令都有 checkout的影子\n分支同步 新建分支，除了上面提到的checkout 和 switch，还有 branch命令\n1 2 3 4 5 git branch [branch_name] git checkout -b [branch_name] git switch -c 删除，重命名分支\n1 2 git branch -d [branch_name] git branch -m [old] [new] 查看所有分支、切换分支\n1 2 3 4 git branch --list -avv # --list 可省略，-a 远程分支，-v 附带id和message ,-vv 再附带与远程分支的对应关系 git checkout [branch_name] origin/ # 使用 origin 可以下拉本地没有的远程分支 git switch [branch_name] 合并和冲突\n1 2 3 4 5 git merge [other_branch] # git status 查看冲突在哪个文件 # 手动修改文件 # 用 git add 告诉 Git 文件冲突已经解决 merge 和 rebase\n远程同步 设置远程仓库\n1 2 3 4 5 git remote -v #查看远程仓库 一般会有两个相同url（fetch \u0026 push） git remote add [http|ssh] git remote rename git remote remove 设置本地分支与远程分支的对应关系\n1 2 3 4 git branch (--set-upstream-to= | -u ) [] git branch --unset-upstream [] git push [-u|--set-upstream] # push时顺带set git fetch\n无参数默认下拉当前head对应的远程分支，并不会下拉全部分支\ngit pull\ngit pull = git fetch + git merge FETCH_HEAD\npush之前必须pull，push -f也必须先pull\npull 时可能会发生冲突，同 merge操作\ngit push\ngit push -f 操作需要远程仓库关闭分支保护功能\n在本地创建分支来下拉远程的某个分支\n1 2 3 4 5 git checkout -b origin/ #等同于 git fetch origin git checkout -b FETCH_HEAD FETCH_HEAD\n待续\ntag标签 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 # 列出所有tag $ git tag # 新建一个tag在当前commit $ git tag [tag] # 新建一个tag在指定commit $ git tag [tag] [commit] # 删除本地tag $ git tag -d [tag] # 删除远程tag $ git push origin :refs/tags/[tagName] # 查看tag信息 $ git show [tag] # 提交指定tag $ git push [remote] [tag] # 提交所有tag $ git push [remote] --tags # 新建一个分支，指向某个tag $ git checkout -b [branch] [tag] starch 1 2 3 git stash git pull git stash pop| git stash apply git stash pop 命令会在 stash 应用之后丢弃（默认情况下指的是最顶部的）stash，而 git stash apply 会将其保留在存储列表中，以备日后重用（或者您可以在之后使用 git stash drop 命令移除此 stash）。\n除非 git stash pop 之后存在冲突，在这种情况下，它将不会删除该 stash，而使其行为与git stash apply 的命令完全相同。\n我们也可以使用另一种方式来实现 git stash pop，那就是：git stash apply \u0026\u0026 git stash drop。\n拓展知识点\n到这我们基本实现了上述需求，但还需要知道一些基本的 git stash 知识，方便我们更清楚的操作。\n下列命令可以查看缓存的列表：\n1 2 git stash list 复制代码 有时我们会发现因冲突导致 git stash pop 命令并没有消除 list 的记录，这样对我们操作造成一些干扰，这时我我们可以执行以下操作，清除记录：\n1 git stash drop 我们还可以对缓存的代码进行标识，方便查看：\n1 git stash save [stashMessage] 当缓存了很多条记录的时候，我们还可以一键清除：\n1 git stash clear cherry-pick git cherry-pick命令的作用，就是将指定的提交（commit）应用于其他分支。\n1 2 3 4 5 6 7 8 #某提交应用于当前分支 git cherry-pick [commitHash] #多个提交 git cherry-pick #上面的命令可以转移从 A 到 B 的所有提交。它们必须按照正确的顺序放置：提交 A 必须早于提交 B，否则命令将失败，但不会报错。 git cherry-pick A..B #注意，使用上面的命令，提交 A 将不会包含在 Cherry pick 中。如果要包含提交 A，可以使用下面的语法。 git cherry-pick A^..B 如果操作过程中发生代码冲突，Cherry pick 会停下来，让用户决定如何继续操作。\n（1）--continue\n用户解决代码冲突后，第一步将修改的文件重新加入暂存区（git add .），第二步使用下面的命令，让 Cherry pick 过程继续执行。\n1 $ git cherry-pick --continue （2）--abort\n发生代码冲突后，放弃合并，回到操作前的样子。\n（3）--quit\n发生代码冲突后，退出 Cherry pick，但是不回到操作前的样子。\nworktree 待续\n子模块 待续\n","wordCount":"1162","inLanguage":"zh","datePublished":"2021-06-23T22:17:36+08:00","dateModified":"2023-06-23T22:17:36+08:00","author":[{"@type":"Person","name":"PJY"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://ignoredpjy.github.io/posts/study/git%E6%8C%87%E5%8D%97/"},"publisher":{"@type":"Organization","name":"PJY's Blog","logo":{"@type":"ImageObject","url":"https://ignoredpjy.github.io/img/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ignoredpjy.github.io accesskey=h title="PJY's Blog (Alt + H)"><img src=https://ignoredpjy.github.io/img/man-removebg.png alt aria-label=logo height=40>PJY's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ignoredpjy.github.io/posts/ title=📖文章><span>📖文章</span></a></li><li><a href=https://ignoredpjy.github.io/tags/ title=🏷️标签><span>🏷️标签</span></a></li><li><a href=https://ignoredpjy.github.io/search/ title=🔍搜索><span>🔍搜索</span></a></li><li><a href=https://ignoredpjy.github.io/archives/ title=📚归档><span>📚归档</span></a></li></ul></nav></header><main class=main><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}</style><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ignoredpjy.github.io>🏠 主页</a>&nbsp;»&nbsp;<a href=https://ignoredpjy.github.io/posts/> 文章</a>&nbsp;»&nbsp;<a href=https://ignoredpjy.github.io/posts/study/> 学习笔记</a></div><h1 class=post-title>Git指南</h1><div class=post-description>使用git以来，有一些知识，不用就会含糊不清，稍作整理方便查阅，可能不适合所有人</div><div class=post-meta><style>i[id*=post_meta_style]{display:flex;align-items:center;margin:0 0 10px}.parent-post-meta{display:flex;flex-wrap:wrap;opacity:.8}</style><span class=parent-post-meta><span id=post_meta_style_1><span class="fa fa-calendar-check-o"></span>
<span>June 23, 2021
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_3><span class="fa fa-file-word-o"></span>
<span>1162字
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_4><span class="fa fa-clock-o"></span>
<span>6分钟
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_5><span class="fa fa-user-o"></span>
<span>PJY
&nbsp;&nbsp;</span></span>
<span id=post_meta_style_6><span class="fa fa-tags" style=opacity:.8></span>
<span><span class=post-tags-meta><a href=https://ignoredpjy.github.io/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/ style=color:var(--secondary)!important>开发工具</a></span></span></span>
</span><span style=opacity:.8><span id=post_meta_style_7>&nbsp;&nbsp;
<span class="fa fa-eye"></span>
<span><span id=busuanzi_container_page_pv><span id=busuanzi_value_page_pv></span></span>
&nbsp;&nbsp;</span></span></span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e4%bd%bf%e7%94%a8git%e4%b9%8b%e5%89%8d aria-label=使用git之前>使用git之前</a></li><li><a href=#%e4%bb%93%e5%ba%93%e5%88%9d%e5%a7%8b%e5%8c%96 aria-label=仓库初始化>仓库初始化</a></li><li><a href=#%e6%9f%a5%e7%9c%8b%e7%9a%84%e5%91%bd%e4%bb%a4 aria-label=查看的命令>查看的命令</a></li><li><a href=#%e5%a5%87%e6%80%aa%e7%9a%84%e7%ac%a6%e5%8f%b7 aria-label=奇怪的符号>奇怪的符号</a></li><li><a href=#%e6%8f%90%e4%ba%a4%e5%89%8d%e7%9a%84%e6%93%8d%e4%bd%9c%e6%9a%82%e5%ad%98%e5%8c%ba aria-label=提交前的操作（暂存区）>提交前的操作（暂存区）</a></li><li><a href=#%e6%8f%90%e4%ba%a4%e5%89%8d%e7%9a%84%e6%92%a4%e9%94%80 aria-label=提交前的撤销>提交前的撤销</a></li><li><a href=#%e6%8f%90%e4%ba%a4%e5%90%8e%e7%9a%84%e6%92%a4%e9%94%80%e7%89%88%e6%9c%ac%e5%9b%9e%e9%80%80 aria-label=提交后的撤销（版本回退）>提交后的撤销（版本回退）</a></li><li><a href=#%e6%8f%90%e4%ba%a4%e6%93%8d%e4%bd%9c aria-label=提交操作>提交操作</a></li><li><a href=#%e6%98%93%e6%b7%b7%e6%b7%86%e7%9a%84checkout-%e4%b8%8e-restore-reset-switch aria-label="易混淆的checkout 与 restore 、reset 、switch">易混淆的checkout 与 restore 、reset 、switch</a></li><li><a href=#%e5%88%86%e6%94%af%e5%90%8c%e6%ad%a5 aria-label=分支同步>分支同步</a></li><li><a href=#%e8%bf%9c%e7%a8%8b%e5%90%8c%e6%ad%a5 aria-label=远程同步>远程同步</a></li><li><a href=#tag%e6%a0%87%e7%ad%be aria-label=tag标签>tag标签</a></li><li><a href=#starch aria-label=starch>starch</a></li><li><a href=#cherry-pick aria-label=cherry-pick>cherry-pick</a></li><li><a href=#worktree aria-label=worktree>worktree</a></li><li><a href=#%e5%ad%90%e6%a8%a1%e5%9d%97 aria-label=子模块>子模块</a></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{elements&&(activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")}))},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h2 id=使用git之前>使用git之前<a hidden class=anchor aria-hidden=true href=#使用git之前>#</a></h2><p>git 的 配置文件有三个 分别是 system、global、local</p><ul><li>system 位于<code>‪C:\Program Files\Git\etc\gitconfig</code>为所有用户配置文件（linux 系统位于 /etc/gitconfig）</li><li>global 位于<code>~\gitconfig</code> 为用户配置文件</li><li>local 位于 <code>.\.git\gitconfig</code> 为当前项目配置文件</li></ul><blockquote><p>其实还有 <code>--worktree</code> 作用域 : 使用每个工作树的配置文件</p></blockquote><p>一般，修改 &ndash;global</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1> 1</a>
</span><span class=lnt id=hl-0-2><a class=lnlinks href=#hl-0-2> 2</a>
</span><span class=lnt id=hl-0-3><a class=lnlinks href=#hl-0-3> 3</a>
</span><span class=lnt id=hl-0-4><a class=lnlinks href=#hl-0-4> 4</a>
</span><span class=lnt id=hl-0-5><a class=lnlinks href=#hl-0-5> 5</a>
</span><span class=lnt id=hl-0-6><a class=lnlinks href=#hl-0-6> 6</a>
</span><span class=lnt id=hl-0-7><a class=lnlinks href=#hl-0-7> 7</a>
</span><span class=lnt id=hl-0-8><a class=lnlinks href=#hl-0-8> 8</a>
</span><span class=lnt id=hl-0-9><a class=lnlinks href=#hl-0-9> 9</a>
</span><span class=lnt id=hl-0-10><a class=lnlinks href=#hl-0-10>10</a>
</span><span class=lnt id=hl-0-11><a class=lnlinks href=#hl-0-11>11</a>
</span><span class=lnt id=hl-0-12><a class=lnlinks href=#hl-0-12>12</a>
</span><span class=lnt id=hl-0-13><a class=lnlinks href=#hl-0-13>13</a>
</span><span class=lnt id=hl-0-14><a class=lnlinks href=#hl-0-14>14</a>
</span><span class=lnt id=hl-0-15><a class=lnlinks href=#hl-0-15>15</a>
</span><span class=lnt id=hl-0-16><a class=lnlinks href=#hl-0-16>16</a>
</span><span class=lnt id=hl-0-17><a class=lnlinks href=#hl-0-17>17</a>
</span><span class=lnt id=hl-0-18><a class=lnlinks href=#hl-0-18>18</a>
</span><span class=lnt id=hl-0-19><a class=lnlinks href=#hl-0-19>19</a>
</span><span class=lnt id=hl-0-20><a class=lnlinks href=#hl-0-20>20</a>
</span><span class=lnt id=hl-0-21><a class=lnlinks href=#hl-0-21>21</a>
</span><span class=lnt id=hl-0-22><a class=lnlinks href=#hl-0-22>22</a>
</span><span class=lnt id=hl-0-23><a class=lnlinks href=#hl-0-23>23</a>
</span><span class=lnt id=hl-0-24><a class=lnlinks href=#hl-0-24>24</a>
</span><span class=lnt id=hl-0-25><a class=lnlinks href=#hl-0-25>25</a>
</span><span class=lnt id=hl-0-26><a class=lnlinks href=#hl-0-26>26</a>
</span><span class=lnt id=hl-0-27><a class=lnlinks href=#hl-0-27>27</a>
</span><span class=lnt id=hl-0-28><a class=lnlinks href=#hl-0-28>28</a>
</span><span class=lnt id=hl-0-29><a class=lnlinks href=#hl-0-29>29</a>
</span><span class=lnt id=hl-0-30><a class=lnlinks href=#hl-0-30>30</a>
</span><span class=lnt id=hl-0-31><a class=lnlinks href=#hl-0-31>31</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>man git config <span class=p>|</span> git config --help
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示当前作用域的Git配置、附带作用域、附带配置文件位置</span>
</span></span><span class=line><span class=cl>$ git config --list<span class=p>|</span> -l --show-scope  --show-origin
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 直接编辑Git配置文件，不推荐</span>
</span></span><span class=line><span class=cl>$ git config -e <span class=o>[</span>--global<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 设置提交代码时的用户信息</span>
</span></span><span class=line><span class=cl>git config --global --add user.name <span class=s2>&#34;pjy&#34;</span> <span class=c1>#--add可省略，删除用 unset</span>
</span></span><span class=line><span class=cl>git config --global user.email <span class=s2>&#34;email&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git config --global corlor.ui <span class=nb>true</span> <span class=c1>#彩色ui</span>
</span></span><span class=line><span class=cl>git config --global core.editor vim <span class=c1>#默认编辑器</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git config --global core.ignorecase <span class=nb>true</span> <span class=c1>#文件名不区分大小写</span>
</span></span><span class=line><span class=cl><span class=c1># 类Unix操作系统使用的是大小写敏感的文件系统，</span>
</span></span><span class=line><span class=cl><span class=c1># 而Windows和Mac OS X（默认安装）的文件系统则是大小写不敏感的文件系统。</span>
</span></span><span class=line><span class=cl><span class=c1># README、readme以及Readme文件，在Linux等操作系统上访问的是不同的文件，</span>
</span></span><span class=line><span class=cl><span class=c1># 而在Windows和Mac OS X上则指向同一个文件。</span>
</span></span><span class=line><span class=cl><span class=c1># 在Windows和Mac OS X平台上执行git clone后，</span>
</span></span><span class=line><span class=cl><span class=c1># 文件会发生覆盖导致丢失</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git config --global core.autocrlf input
</span></span><span class=line><span class=cl><span class=c1># LF（Unix风格的换行符） CRLF（Windows风格的换行符）</span>
</span></span><span class=line><span class=cl><span class=c1># 我们一般希望远程仓库中的代码为LF 所以input，开发环境为win的话，true也行</span>
</span></span><span class=line><span class=cl><span class=c1># core.autocrlf 是一个Git的配置项，它有三个可选值：</span>
</span></span><span class=line><span class=cl><span class=c1># true：在checkout时自动将行尾转换为CRLF，在commit时自动将行尾转换为LF。</span>
</span></span><span class=line><span class=cl><span class=c1># input：在检出代码时不自动转换行尾，在提交代码时自动将行尾转换为LF。</span>
</span></span><span class=line><span class=cl><span class=c1># false：在check和commit代码时都不自动转换行尾。</span>
</span></span></code></pre></td></tr></table></div></div><p>更多配置项详见 <a href=https://git-scm.com/docs/git-config>官网</a></p><h2 id=仓库初始化>仓库初始化<a hidden class=anchor aria-hidden=true href=#仓库初始化>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git clone <span class=o>[</span>https<span class=p>|</span>ssh<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>.gitignore</strong></p><p>基本每个仓库都含有的<strong>忽略文件</strong>，用来配置 git 忽略哪些文件</p><p>常需要忽略一些 集成开发环境配置目录 和 代码打包目录</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback></code></pre></td></tr></table></div></div><h2 id=查看的命令>查看的命令<a hidden class=anchor aria-hidden=true href=#查看的命令>#</a></h2><p>常用的一些查看详情的命令</p><p>最常用</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span><span class=lnt id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a>
</span><span class=lnt id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a>
</span><span class=lnt id=hl-3-4><a class=lnlinks href=#hl-3-4>4</a>
</span><span class=lnt id=hl-3-5><a class=lnlinks href=#hl-3-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 显示有变更的文件 工作区、暂存区、是否发生冲突</span>
</span></span><span class=line><span class=cl>$ git status
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示当前分支的最近几次提交</span>
</span></span><span class=line><span class=cl>$ git reflog
</span></span></code></pre></td></tr></table></div></div><p>代码比较diff</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1> 1</a>
</span><span class=lnt id=hl-4-2><a class=lnlinks href=#hl-4-2> 2</a>
</span><span class=lnt id=hl-4-3><a class=lnlinks href=#hl-4-3> 3</a>
</span><span class=lnt id=hl-4-4><a class=lnlinks href=#hl-4-4> 4</a>
</span><span class=lnt id=hl-4-5><a class=lnlinks href=#hl-4-5> 5</a>
</span><span class=lnt id=hl-4-6><a class=lnlinks href=#hl-4-6> 6</a>
</span><span class=lnt id=hl-4-7><a class=lnlinks href=#hl-4-7> 7</a>
</span><span class=lnt id=hl-4-8><a class=lnlinks href=#hl-4-8> 8</a>
</span><span class=lnt id=hl-4-9><a class=lnlinks href=#hl-4-9> 9</a>
</span><span class=lnt id=hl-4-10><a class=lnlinks href=#hl-4-10>10</a>
</span><span class=lnt id=hl-4-11><a class=lnlinks href=#hl-4-11>11</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 显示暂存区和工作区的差异</span>
</span></span><span class=line><span class=cl>$ git diff
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示暂存区和上一个commit的差异</span>
</span></span><span class=line><span class=cl>$ git diff --cached <span class=o>[</span>file<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示工作区与当前分支最新commit之间的差异</span>
</span></span><span class=line><span class=cl>$ git diff HEAD
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示两次提交之间的差异</span>
</span></span><span class=line><span class=cl>$ git diff <span class=o>[</span>first-branch<span class=o>]</span>...<span class=o>[</span>second-branch<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><p>git log 和 blame</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a>
</span><span class=lnt id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a>
</span><span class=lnt id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a>
</span><span class=lnt id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a>
</span><span class=lnt id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a>
</span><span class=lnt id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a>
</span><span class=lnt id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a>
</span><span class=lnt id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a>
</span><span class=lnt id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a>
</span><span class=lnt id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a>
</span><span class=lnt id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a>
</span><span class=lnt id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a>
</span><span class=lnt id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a>
</span><span class=lnt id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a>
</span><span class=lnt id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a>
</span><span class=lnt id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a>
</span><span class=lnt id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a>
</span><span class=lnt id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a>
</span><span class=lnt id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a>
</span><span class=lnt id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a>
</span><span class=lnt id=hl-5-21><a class=lnlinks href=#hl-5-21>21</a>
</span><span class=lnt id=hl-5-22><a class=lnlinks href=#hl-5-22>22</a>
</span><span class=lnt id=hl-5-23><a class=lnlinks href=#hl-5-23>23</a>
</span><span class=lnt id=hl-5-24><a class=lnlinks href=#hl-5-24>24</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 显示当前分支的版本历史</span>
</span></span><span class=line><span class=cl>$ git log
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示commit历史，以及每次commit发生变更的文件</span>
</span></span><span class=line><span class=cl>$ git log --stat
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 搜索提交历史，根据关键词</span>
</span></span><span class=line><span class=cl>$ git log -S <span class=o>[</span>keyword<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示某个commit之后的所有变动，每个commit占据一行</span>
</span></span><span class=line><span class=cl>$ git log <span class=o>[</span>tag<span class=o>]</span> HEAD --pretty<span class=o>=</span>format:%s
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示某个commit之后的所有变动，其&#34;提交说明&#34;必须符合搜索条件</span>
</span></span><span class=line><span class=cl>$ git log <span class=o>[</span>tag<span class=o>]</span> HEAD --grep feature
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示某个文件的版本历史，包括文件改名</span>
</span></span><span class=line><span class=cl>$ git log --follow <span class=o>[</span>file<span class=o>]</span>
</span></span><span class=line><span class=cl>$ git whatchanged <span class=o>[</span>file<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示指定文件相关的每一次diff</span>
</span></span><span class=line><span class=cl>$ git log -p <span class=o>[</span>file<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示过去5次提交</span>
</span></span><span class=line><span class=cl>$ git log -5 --pretty --oneline
</span></span></code></pre></td></tr></table></div></div><p>其他</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a>
</span><span class=lnt id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a>
</span><span class=lnt id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a>
</span><span class=lnt id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a>
</span><span class=lnt id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a>
</span><span class=lnt id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a>
</span><span class=lnt id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a>
</span><span class=lnt id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a>
</span><span class=lnt id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a>
</span><span class=lnt id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a>
</span><span class=lnt id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a>
</span><span class=lnt id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a>
</span><span class=lnt id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a>
</span><span class=lnt id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a>
</span><span class=lnt id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a>
</span><span class=lnt id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a>
</span><span class=lnt id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a>
</span><span class=lnt id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示所有提交过的用户，按提交次数排序</span>
</span></span><span class=line><span class=cl>$ git shortlog -sn
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示指定文件是什么人在什么时间修改过</span>
</span></span><span class=line><span class=cl>$ git blame <span class=o>[</span>file<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示今天你写了多少行代码</span>
</span></span><span class=line><span class=cl>$ git diff --shortstat <span class=s2>&#34;@{0 day ago}&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示某次提交的元数据和内容变化</span>
</span></span><span class=line><span class=cl>$ git show <span class=o>[</span>commit<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示某次提交发生变化的文件</span>
</span></span><span class=line><span class=cl>$ git show --name-only <span class=o>[</span>commit<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 显示某次提交时，某个文件的内容</span>
</span></span><span class=line><span class=cl>$ git show <span class=o>[</span>commit<span class=o>]</span>:<span class=o>[</span>filename<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=奇怪的符号>奇怪的符号<a hidden class=anchor aria-hidden=true href=#奇怪的符号>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span><span class=lnt id=hl-7-3><a class=lnlinks href=#hl-7-3>3</a>
</span><span class=lnt id=hl-7-4><a class=lnlinks href=#hl-7-4>4</a>
</span><span class=lnt id=hl-7-5><a class=lnlinks href=#hl-7-5>5</a>
</span><span class=lnt id=hl-7-6><a class=lnlinks href=#hl-7-6>6</a>
</span><span class=lnt id=hl-7-7><a class=lnlinks href=#hl-7-7>7</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>HEAD <span class=c1># 当前分支最新版本</span>
</span></span><span class=line><span class=cl>HEAD^^  <span class=c1># 有几个^就是前几个版本</span>
</span></span><span class=line><span class=cl>HEAD~<span class=o>[</span>0-n<span class=o>]</span> <span class=c1>#数字代替^的个数</span>
</span></span><span class=line><span class=cl>git checkout - <span class=c1># - 表示上一次指向的版本，后退操作</span>
</span></span><span class=line><span class=cl>git checkout -- . <span class=c1># -- 无意义可省略  ‘.’表示全部文件</span>
</span></span><span class=line><span class=cl>origin/  <span class=c1># 远程分支名称的前缀</span>
</span></span><span class=line><span class=cl>FETCH_HEAD <span class=c1># 含义见下文 远程同步</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=提交前的操作暂存区>提交前的操作（暂存区）<a hidden class=anchor aria-hidden=true href=#提交前的操作暂存区>#</a></h2><p><strong>创建、修改 、删除文件</strong></p><blockquote><p>add 本质是 <strong>同步工作区的变化到暂存区</strong>，使暂存区和工作区保持一致。</p><p>当工作区新创建文件 1.txt时，add可以将文件添加到暂存区。之后，如果工作区删除1.txt时，使用add可以将该文件从暂存区也删除。</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1> 1</a>
</span><span class=lnt id=hl-8-2><a class=lnlinks href=#hl-8-2> 2</a>
</span><span class=lnt id=hl-8-3><a class=lnlinks href=#hl-8-3> 3</a>
</span><span class=lnt id=hl-8-4><a class=lnlinks href=#hl-8-4> 4</a>
</span><span class=lnt id=hl-8-5><a class=lnlinks href=#hl-8-5> 5</a>
</span><span class=lnt id=hl-8-6><a class=lnlinks href=#hl-8-6> 6</a>
</span><span class=lnt id=hl-8-7><a class=lnlinks href=#hl-8-7> 7</a>
</span><span class=lnt id=hl-8-8><a class=lnlinks href=#hl-8-8> 8</a>
</span><span class=lnt id=hl-8-9><a class=lnlinks href=#hl-8-9> 9</a>
</span><span class=lnt id=hl-8-10><a class=lnlinks href=#hl-8-10>10</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 添加当前目录的所有文件到暂存区</span>
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl><span class=c1># 添加指定文件到暂存区</span>
</span></span><span class=line><span class=cl>git add <span class=o>[</span>file1<span class=o>]</span> <span class=o>[</span>file2<span class=o>]</span> ...
</span></span><span class=line><span class=cl><span class=c1># 添加指定目录到暂存区，包括子目录</span>
</span></span><span class=line><span class=cl>git add <span class=o>[</span>dir<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 添加每个变化前，都会要求确认</span>
</span></span><span class=line><span class=cl><span class=c1># 对于同一个文件的多处变化，可以实现分次提交</span>
</span></span><span class=line><span class=cl>git add -p
</span></span></code></pre></td></tr></table></div></div><p><strong>灵活的删除文件</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span><span class=lnt id=hl-9-2><a class=lnlinks href=#hl-9-2>2</a>
</span><span class=lnt id=hl-9-3><a class=lnlinks href=#hl-9-3>3</a>
</span><span class=lnt id=hl-9-4><a class=lnlinks href=#hl-9-4>4</a>
</span><span class=lnt id=hl-9-5><a class=lnlinks href=#hl-9-5>5</a>
</span><span class=lnt id=hl-9-6><a class=lnlinks href=#hl-9-6>6</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 删除工作区文件，并且将这次删除同步暂存区,</span>
</span></span><span class=line><span class=cl><span class=c1># 如果删除时工作区和暂存区文件内容不一致，需要 -f</span>
</span></span><span class=line><span class=cl>git rm -f <span class=o>[</span>file1<span class=o>]</span> <span class=o>[</span>file2<span class=o>]</span> ...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 暂存区停止追踪指定文件，但该文件会保留在工作区</span>
</span></span><span class=line><span class=cl>git rm --cached <span class=o>[</span>file<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>重命名文件</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span><span class=lnt id=hl-10-2><a class=lnlinks href=#hl-10-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl> <span class=c1># 移动或改名文件，并且将这个改名放入暂存区，文件名重复时-f强制</span>
</span></span><span class=line><span class=cl>$ git mv -f <span class=o>[</span>file-original<span class=o>]</span> <span class=o>[</span>file-renamed<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=提交前的撤销>提交前的撤销<a hidden class=anchor aria-hidden=true href=#提交前的撤销>#</a></h2><blockquote><p>注意：还原工作区前，确保当前工作区的内容已彻底无用</p></blockquote><p><strong>工作区 ——》 暂存区</strong></p><blockquote><p>注意：checkout命令 是 <strong>文件内容还原 ，会创建不存在的文件，但不会删除工作区文件</strong>，<code>git status</code> 可以看到 <strong>那些标红的文件</strong></p><p>本质可以理解为: 将 暂存区文件 复制粘贴到 工作区</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span><span class=lnt id=hl-11-2><a class=lnlinks href=#hl-11-2>2</a>
</span><span class=lnt id=hl-11-3><a class=lnlinks href=#hl-11-3>3</a>
</span><span class=lnt id=hl-11-4><a class=lnlinks href=#hl-11-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># -- 可以省略，推荐省略，有返回结果，加了--就没有，怪</span>
</span></span><span class=line><span class=cl>git checkout -- <span class=o>[</span>.<span class=p>|</span>file｜dir<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git restore <span class=o>[</span>.<span class=p>|</span>file<span class=o>]</span> <span class=c1>#功能完全同上</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>工作区 ——》 最新版本</strong></p><p>无法单独还原工作区，确实也没必要，工作区还原了，暂存区还有必要保留吗，如果有，为什么不直接还原成暂存区</p><p><strong>暂存区 ——》 最新版本</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a>
</span><span class=lnt id=hl-12-2><a class=lnlinks href=#hl-12-2>2</a>
</span><span class=lnt id=hl-12-3><a class=lnlinks href=#hl-12-3>3</a>
</span><span class=lnt id=hl-12-4><a class=lnlinks href=#hl-12-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># --mixed 为默认，可以省略，用于重置暂存区 -&gt; HEAD版本，但不改变工作区，不带[file]则重置全部文件</span>
</span></span><span class=line><span class=cl>git reset --mixed HEAD <span class=o>[</span>file<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git restore --staged <span class=o>[</span>.<span class=p>|</span>file<span class=o>]</span> <span class=c1>#功能完全同上</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>工作区和暂存区 ——》最新版本</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1>1</a>
</span><span class=lnt id=hl-13-2><a class=lnlinks href=#hl-13-2>2</a>
</span><span class=lnt id=hl-13-3><a class=lnlinks href=#hl-13-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git checkout HEAD -- <span class=o>[</span>file<span class=p>|</span>dir<span class=o>]</span>  <span class=c1># 推荐省略--，理由同上</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># restore上面两个指令都用一遍，就行了</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>结合上面三种来看:</p><p>推荐使用 <strong>restore</strong> 命令，Git 2.23 版本新引入，相比checkout 表意更清晰。而 reset的实现，则属于是reset的附带功能了</p></blockquote><p>reset 和 HEAD 一起使用可以做到版本内的撤销操作，但 reset的本职工作是<strong>版本的删除回退</strong>（危险操作）</p><h2 id=提交后的撤销版本回退>提交后的撤销（版本回退）<a hidden class=anchor aria-hidden=true href=#提交后的撤销版本回退>#</a></h2><p>reset 除了预设的 mixed 模式外，另外还有soft 和hard 模式。欲了解各模式的影响程度，请参照下面的表格。</p><table><thead><tr><th style=text-align:center>模式名称</th><th style=text-align:center>HEAD的位置</th><th style=text-align:center>索引</th><th style=text-align:center>工作目录</th><th>指定文件</th></tr></thead><tbody><tr><td style=text-align:center>soft</td><td style=text-align:center>修改</td><td style=text-align:center>不修改</td><td style=text-align:center>不修改</td><td>不可</td></tr><tr><td style=text-align:center>mixed</td><td style=text-align:center>修改</td><td style=text-align:center>修改</td><td style=text-align:center>不修改</td><td>可以</td></tr><tr><td style=text-align:center>hard</td><td style=text-align:center>修改</td><td style=text-align:center>修改</td><td style=text-align:center>修改</td><td>不可</td></tr></tbody></table><p><strong>安全的回退 ,使用 revert 命令</strong></p><p>相比 reset，revert 不会删除任何提交记录</p><p>假设 版本链：A — B — C— D— E</p><p>reset 回到 C：A — B — C</p><p>revert回到 C：A — B — C— D— E — C</p><blockquote><p><strong>push 之前 的 commit 可以用 reset，已push的commit 一定用revert</strong></p><p><strong>因为，本地操作失误的reset，可以用 reflog 抢救</strong></p></blockquote><h2 id=提交操作>提交操作<a hidden class=anchor aria-hidden=true href=#提交操作>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>1</a>
</span><span class=lnt id=hl-14-2><a class=lnlinks href=#hl-14-2>2</a>
</span><span class=lnt id=hl-14-3><a class=lnlinks href=#hl-14-3>3</a>
</span><span class=lnt id=hl-14-4><a class=lnlinks href=#hl-14-4>4</a>
</span><span class=lnt id=hl-14-5><a class=lnlinks href=#hl-14-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># add . + commit ,携带message</span>
</span></span><span class=line><span class=cl>$ git commit -am <span class=o>[</span>message<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 覆盖上一次提交并重写message，不会增加提交次数，好用</span>
</span></span><span class=line><span class=cl>$ git commit --amend -am <span class=o>[</span>message<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=易混淆的checkout-与-restore-reset-switch>易混淆的checkout 与 restore 、reset 、switch<a hidden class=anchor aria-hidden=true href=#易混淆的checkout-与-restore-reset-switch>#</a></h2><p>checkout 功能理解: 其实就是查看代码，把代码转移到工作区来查看</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a>
</span><span class=lnt id=hl-15-2><a class=lnlinks href=#hl-15-2>2</a>
</span><span class=lnt id=hl-15-3><a class=lnlinks href=#hl-15-3>3</a>
</span><span class=lnt id=hl-15-4><a class=lnlinks href=#hl-15-4>4</a>
</span><span class=lnt id=hl-15-5><a class=lnlinks href=#hl-15-5>5</a>
</span><span class=lnt id=hl-15-6><a class=lnlinks href=#hl-15-6>6</a>
</span><span class=lnt id=hl-15-7><a class=lnlinks href=#hl-15-7>7</a>
</span><span class=lnt id=hl-15-8><a class=lnlinks href=#hl-15-8>8</a>
</span><span class=lnt id=hl-15-9><a class=lnlinks href=#hl-15-9>9</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git checkout -- <span class=o>[</span>file<span class=o>]</span>   <span class=c1>#查看暂存区代码</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git checkout <span class=o>[</span>commit_id<span class=o>]</span> file <span class=c1>#查看指定版本代码</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git checkout -b <span class=o>[</span>branch_name<span class=o>]</span> <span class=c1>#查看其他分支代码，也就是切换分支，-b是新建分支并切换</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git checkout -  <span class=c1>#回退到上次查看的版本</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git checkout tags/&lt;tag-name&gt; <span class=c1>#查看tag版本</span>
</span></span></code></pre></td></tr></table></div></div><p>因为查看代码会修改工作区，就导致checkout具有撤销工作区的功能</p><p>reset 之前已经讲过，回退版本的功能会修改工作区和暂存区，所以和Head搭配，也具有部分撤销功能</p><p>switch 和restore 是Git 2.23 版本引入，用来清晰化 checkout 功能类型的新命令。</p><ul><li><p>switch: 更清晰地切换分支。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-16-1><a class=lnlinks href=#hl-16-1>1</a>
</span><span class=lnt id=hl-16-2><a class=lnlinks href=#hl-16-2>2</a>
</span><span class=lnt id=hl-16-3><a class=lnlinks href=#hl-16-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git switch -c &lt;branch_name&gt; <span class=c1>#切换分支  -c 是创建分支</span>
</span></span><span class=line><span class=cl>git switch -
</span></span><span class=line><span class=cl>git switch tags/&lt;tag-name&gt;
</span></span></code></pre></td></tr></table></div></div></li><li><p>restore 恢复或撤销文件的更改。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-17-1><a class=lnlinks href=#hl-17-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git restore --source<span class=o>=</span>&lt;commit&gt; &lt;file&gt;  <span class=c1># restore 也有查看指定版本代码的功能</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><p>这两个命令都有 checkout的影子</p><h2 id=分支同步>分支同步<a hidden class=anchor aria-hidden=true href=#分支同步>#</a></h2><p>新建分支，除了上面提到的checkout 和 switch，还有 branch命令</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-18-1><a class=lnlinks href=#hl-18-1>1</a>
</span><span class=lnt id=hl-18-2><a class=lnlinks href=#hl-18-2>2</a>
</span><span class=lnt id=hl-18-3><a class=lnlinks href=#hl-18-3>3</a>
</span><span class=lnt id=hl-18-4><a class=lnlinks href=#hl-18-4>4</a>
</span><span class=lnt id=hl-18-5><a class=lnlinks href=#hl-18-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git branch <span class=o>[</span>branch_name<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git checkout -b <span class=o>[</span>branch_name<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git switch -c &lt;branch_name&gt;
</span></span></code></pre></td></tr></table></div></div><p>删除，重命名分支</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-19-1><a class=lnlinks href=#hl-19-1>1</a>
</span><span class=lnt id=hl-19-2><a class=lnlinks href=#hl-19-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git branch -d <span class=o>[</span>branch_name<span class=o>]</span>
</span></span><span class=line><span class=cl>git branch -m <span class=o>[</span>old<span class=o>]</span> <span class=o>[</span>new<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><p>查看所有分支、切换分支</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-20-1><a class=lnlinks href=#hl-20-1>1</a>
</span><span class=lnt id=hl-20-2><a class=lnlinks href=#hl-20-2>2</a>
</span><span class=lnt id=hl-20-3><a class=lnlinks href=#hl-20-3>3</a>
</span><span class=lnt id=hl-20-4><a class=lnlinks href=#hl-20-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git branch --list -avv <span class=c1># --list 可省略，-a 远程分支，-v 附带id和message ,-vv 再附带与远程分支的对应关系</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git checkout <span class=o>[</span>branch_name<span class=o>]</span> origin/&lt;branch_name&gt; <span class=c1># 使用 origin 可以下拉本地没有的远程分支  </span>
</span></span><span class=line><span class=cl>git switch <span class=o>[</span>branch_name<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><p>合并和冲突</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-21-1><a class=lnlinks href=#hl-21-1>1</a>
</span><span class=lnt id=hl-21-2><a class=lnlinks href=#hl-21-2>2</a>
</span><span class=lnt id=hl-21-3><a class=lnlinks href=#hl-21-3>3</a>
</span><span class=lnt id=hl-21-4><a class=lnlinks href=#hl-21-4>4</a>
</span><span class=lnt id=hl-21-5><a class=lnlinks href=#hl-21-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git merge <span class=o>[</span>other_branch<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># git status 查看冲突在哪个文件</span>
</span></span><span class=line><span class=cl><span class=c1># 手动修改文件</span>
</span></span><span class=line><span class=cl><span class=c1># 用 git add 告诉 Git 文件冲突已经解决</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>merge 和 rebase</strong></p><h2 id=远程同步>远程同步<a hidden class=anchor aria-hidden=true href=#远程同步>#</a></h2><p>设置远程仓库</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-22-1><a class=lnlinks href=#hl-22-1>1</a>
</span><span class=lnt id=hl-22-2><a class=lnlinks href=#hl-22-2>2</a>
</span><span class=lnt id=hl-22-3><a class=lnlinks href=#hl-22-3>3</a>
</span><span class=lnt id=hl-22-4><a class=lnlinks href=#hl-22-4>4</a>
</span><span class=lnt id=hl-22-5><a class=lnlinks href=#hl-22-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git remote -v <span class=c1>#查看远程仓库 一般会有两个相同url（fetch &amp; push）</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git remote add <span class=o>[</span>http<span class=p>|</span>ssh<span class=o>]</span>
</span></span><span class=line><span class=cl>git remote rename
</span></span><span class=line><span class=cl>git remote remove
</span></span></code></pre></td></tr></table></div></div><p>设置本地分支与远程分支的对应关系</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-23-1><a class=lnlinks href=#hl-23-1>1</a>
</span><span class=lnt id=hl-23-2><a class=lnlinks href=#hl-23-2>2</a>
</span><span class=lnt id=hl-23-3><a class=lnlinks href=#hl-23-3>3</a>
</span><span class=lnt id=hl-23-4><a class=lnlinks href=#hl-23-4>4</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git branch <span class=o>(</span>--set-upstream-to<span class=o>=</span>&lt;upstream&gt; <span class=p>|</span> -u &lt;upstream&gt;<span class=o>)</span> <span class=o>[</span>&lt;branchname&gt;<span class=o>]</span>
</span></span><span class=line><span class=cl>git branch --unset-upstream <span class=o>[</span>&lt;branchname&gt;<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git push <span class=o>[</span>-u<span class=p>|</span>--set-upstream<span class=o>]</span> &lt;remote&gt; &lt;branch&gt; <span class=c1># push时顺带set</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>git fetch</strong></p><p>无参数默认下拉当前head对应的远程分支，并不会下拉全部分支</p><p><strong>git pull</strong></p><p>git pull = git fetch + git merge FETCH_HEAD</p><p>push之前必须pull，push -f也必须先pull</p><blockquote><p>pull 时可能会发生冲突，同 merge操作</p></blockquote><p><strong>git push</strong></p><blockquote><p>git push -f 操作需要远程仓库关闭分支保护功能</p></blockquote><p><strong>在本地创建分支来下拉远程的某个分支</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-24-1><a class=lnlinks href=#hl-24-1>1</a>
</span><span class=lnt id=hl-24-2><a class=lnlinks href=#hl-24-2>2</a>
</span><span class=lnt id=hl-24-3><a class=lnlinks href=#hl-24-3>3</a>
</span><span class=lnt id=hl-24-4><a class=lnlinks href=#hl-24-4>4</a>
</span><span class=lnt id=hl-24-5><a class=lnlinks href=#hl-24-5>5</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl> git checkout -b &lt;branch_name&gt; origin/&lt;branch_name&gt;
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=c1>#等同于</span>
</span></span><span class=line><span class=cl>git fetch origin &lt;branch_name&gt;
</span></span><span class=line><span class=cl>git checkout -b &lt;branch_name&gt; FETCH_HEAD 
</span></span></code></pre></td></tr></table></div></div><p><strong>FETCH_HEAD</strong></p><p>待续</p><h2 id=tag标签>tag标签<a hidden class=anchor aria-hidden=true href=#tag标签>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-25-1><a class=lnlinks href=#hl-25-1> 1</a>
</span><span class=lnt id=hl-25-2><a class=lnlinks href=#hl-25-2> 2</a>
</span><span class=lnt id=hl-25-3><a class=lnlinks href=#hl-25-3> 3</a>
</span><span class=lnt id=hl-25-4><a class=lnlinks href=#hl-25-4> 4</a>
</span><span class=lnt id=hl-25-5><a class=lnlinks href=#hl-25-5> 5</a>
</span><span class=lnt id=hl-25-6><a class=lnlinks href=#hl-25-6> 6</a>
</span><span class=lnt id=hl-25-7><a class=lnlinks href=#hl-25-7> 7</a>
</span><span class=lnt id=hl-25-8><a class=lnlinks href=#hl-25-8> 8</a>
</span><span class=lnt id=hl-25-9><a class=lnlinks href=#hl-25-9> 9</a>
</span><span class=lnt id=hl-25-10><a class=lnlinks href=#hl-25-10>10</a>
</span><span class=lnt id=hl-25-11><a class=lnlinks href=#hl-25-11>11</a>
</span><span class=lnt id=hl-25-12><a class=lnlinks href=#hl-25-12>12</a>
</span><span class=lnt id=hl-25-13><a class=lnlinks href=#hl-25-13>13</a>
</span><span class=lnt id=hl-25-14><a class=lnlinks href=#hl-25-14>14</a>
</span><span class=lnt id=hl-25-15><a class=lnlinks href=#hl-25-15>15</a>
</span><span class=lnt id=hl-25-16><a class=lnlinks href=#hl-25-16>16</a>
</span><span class=lnt id=hl-25-17><a class=lnlinks href=#hl-25-17>17</a>
</span><span class=lnt id=hl-25-18><a class=lnlinks href=#hl-25-18>18</a>
</span><span class=lnt id=hl-25-19><a class=lnlinks href=#hl-25-19>19</a>
</span><span class=lnt id=hl-25-20><a class=lnlinks href=#hl-25-20>20</a>
</span><span class=lnt id=hl-25-21><a class=lnlinks href=#hl-25-21>21</a>
</span><span class=lnt id=hl-25-22><a class=lnlinks href=#hl-25-22>22</a>
</span><span class=lnt id=hl-25-23><a class=lnlinks href=#hl-25-23>23</a>
</span><span class=lnt id=hl-25-24><a class=lnlinks href=#hl-25-24>24</a>
</span><span class=lnt id=hl-25-25><a class=lnlinks href=#hl-25-25>25</a>
</span><span class=lnt id=hl-25-26><a class=lnlinks href=#hl-25-26>26</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 列出所有tag</span>
</span></span><span class=line><span class=cl>$ git tag
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 新建一个tag在当前commit</span>
</span></span><span class=line><span class=cl>$ git tag <span class=o>[</span>tag<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 新建一个tag在指定commit</span>
</span></span><span class=line><span class=cl>$ git tag <span class=o>[</span>tag<span class=o>]</span> <span class=o>[</span>commit<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 删除本地tag</span>
</span></span><span class=line><span class=cl>$ git tag -d <span class=o>[</span>tag<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 删除远程tag</span>
</span></span><span class=line><span class=cl>$ git push origin :refs/tags/<span class=o>[</span>tagName<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 查看tag信息</span>
</span></span><span class=line><span class=cl>$ git show <span class=o>[</span>tag<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 提交指定tag</span>
</span></span><span class=line><span class=cl>$ git push <span class=o>[</span>remote<span class=o>]</span> <span class=o>[</span>tag<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 提交所有tag</span>
</span></span><span class=line><span class=cl>$ git push <span class=o>[</span>remote<span class=o>]</span> --tags
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 新建一个分支，指向某个tag</span>
</span></span><span class=line><span class=cl>$ git checkout -b <span class=o>[</span>branch<span class=o>]</span> <span class=o>[</span>tag<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=starch>starch<a hidden class=anchor aria-hidden=true href=#starch>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-26-1><a class=lnlinks href=#hl-26-1>1</a>
</span><span class=lnt id=hl-26-2><a class=lnlinks href=#hl-26-2>2</a>
</span><span class=lnt id=hl-26-3><a class=lnlinks href=#hl-26-3>3</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git stash
</span></span><span class=line><span class=cl>git pull
</span></span><span class=line><span class=cl>git stash pop<span class=p>|</span> git stash apply
</span></span></code></pre></td></tr></table></div></div><p>git stash pop 命令会在 stash 应用之后丢弃（默认情况下指的是最顶部的）stash，而 git stash apply 会将其保留在存储列表中，以备日后重用（或者您可以在之后使用 git stash drop 命令移除此 stash）。</p><p>除非 git stash pop 之后存在冲突，在这种情况下，它将不会删除该 stash，而使其行为与git stash apply 的命令完全相同。</p><p>我们也可以使用另一种方式来实现 git stash pop，那就是：git stash apply && git stash drop。</p><p><strong>拓展知识点</strong></p><p>到这我们基本实现了上述需求，但还需要知道一些基本的 git stash 知识，方便我们更清楚的操作。</p><p>下列命令可以查看缓存的列表：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-27-1><a class=lnlinks href=#hl-27-1>1</a>
</span><span class=lnt id=hl-27-2><a class=lnlinks href=#hl-27-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git stash list
</span></span><span class=line><span class=cl>复制代码
</span></span></code></pre></td></tr></table></div></div><p>有时我们会发现因冲突导致 git stash pop 命令并没有消除 list 的记录，这样对我们操作造成一些干扰，这时我我们可以执行以下操作，清除记录：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-28-1><a class=lnlinks href=#hl-28-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=n>git</span><span class=w> </span><span class=n>stash</span><span class=w> </span><span class=k>drop</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div><p>我们还可以对缓存的代码进行标识，方便查看：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-29-1><a class=lnlinks href=#hl-29-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=nt>git</span> <span class=nt>stash</span> <span class=nt>save</span> <span class=o>[</span><span class=nt>stashMessage</span><span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><p>当缓存了很多条记录的时候，我们还可以一键清除：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-30-1><a class=lnlinks href=#hl-30-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git stash clear
</span></span></code></pre></td></tr></table></div></div><h2 id=cherry-pick>cherry-pick<a hidden class=anchor aria-hidden=true href=#cherry-pick>#</a></h2><p><code>git cherry-pick</code>命令的作用，就是将指定的提交（commit）应用于其他分支。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-31-1><a class=lnlinks href=#hl-31-1>1</a>
</span><span class=lnt id=hl-31-2><a class=lnlinks href=#hl-31-2>2</a>
</span><span class=lnt id=hl-31-3><a class=lnlinks href=#hl-31-3>3</a>
</span><span class=lnt id=hl-31-4><a class=lnlinks href=#hl-31-4>4</a>
</span><span class=lnt id=hl-31-5><a class=lnlinks href=#hl-31-5>5</a>
</span><span class=lnt id=hl-31-6><a class=lnlinks href=#hl-31-6>6</a>
</span><span class=lnt id=hl-31-7><a class=lnlinks href=#hl-31-7>7</a>
</span><span class=lnt id=hl-31-8><a class=lnlinks href=#hl-31-8>8</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1>#某提交应用于当前分支</span>
</span></span><span class=line><span class=cl>git cherry-pick <span class=o>[</span>commitHash<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=c1>#多个提交</span>
</span></span><span class=line><span class=cl>git cherry-pick &lt;HashA&gt; &lt;HashB&gt; 
</span></span><span class=line><span class=cl><span class=c1>#上面的命令可以转移从 A 到 B 的所有提交。它们必须按照正确的顺序放置：提交 A 必须早于提交 B，否则命令将失败，但不会报错。</span>
</span></span><span class=line><span class=cl>git cherry-pick A..B 
</span></span><span class=line><span class=cl><span class=c1>#注意，使用上面的命令，提交 A 将不会包含在 Cherry pick 中。如果要包含提交 A，可以使用下面的语法。</span>
</span></span><span class=line><span class=cl>git cherry-pick A^..B
</span></span></code></pre></td></tr></table></div></div><p>如果操作过程中发生代码冲突，Cherry pick 会停下来，让用户决定如何继续操作。</p><p><strong>（1）<code>--continue</code></strong></p><p>用户解决代码冲突后，第一步将修改的文件重新加入暂存区（<code>git add .</code>），第二步使用下面的命令，让 Cherry pick 过程继续执行。</p><blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-32-1><a class=lnlinks href=#hl-32-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ git cherry-pick --continue
</span></span></code></pre></td></tr></table></div></div></blockquote><p><strong>（2）<code>--abort</code></strong></p><p>发生代码冲突后，放弃合并，回到操作前的样子。</p><p><strong>（3）<code>--quit</code></strong></p><p>发生代码冲突后，退出 Cherry pick，但是不回到操作前的样子。</p><h2 id=worktree>worktree<a hidden class=anchor aria-hidden=true href=#worktree>#</a></h2><p>待续</p><h2 id=子模块>子模块<a hidden class=anchor aria-hidden=true href=#子模块>#</a></h2><p>待续</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://ignoredpjy.github.io/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/>开发工具</a></li></ul></footer></article></main><footer class=footer><span>Build by pjy</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>